@model UniversityManagementSystem.Models.AllocateClassRoomViewModel

@{
    ViewBag.Title = "Create";
}
<style>
   /*input[type=time]::-webkit-datetime-edit-ampm-field {
   display: none;}*/
   
</style>
<h2>Create</h2>


@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <h4>AllocateClassRoomViewModel</h4>
        <hr />
        @Html.ValidationSummary(true)
        <div class="form-group">
            @Html.LabelFor(model => model.DepartmentId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.DepartmentId, ViewBag.DeptList as SelectList, "-- Select Department --", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DepartmentId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.CourseId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.CourseId, ViewBag.CourseList as SelectList, "-- Select Course --", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.CourseId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.RoomId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.RoomId, ViewBag.RoomList as SelectList, "-- Select RoomNumber --", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.RoomId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DayId, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.DayId, ViewBag.DayList as SelectList, "-- Select Day --", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DayId)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.From, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <input  data-val="true" @*data-val-required="The From field is required."*@ id="From" name="From" type="time" value="" />
               
                @Html.ValidationMessageFor(model => model.From)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.To, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
               <input  data-val="true" @*data-val-required="The From field is required."*@ id="To" name="To" type="time" value="" />
               
                @Html.ValidationMessageFor(model => model.To)
            </div>
        </div>
        
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
                @{
    if (ViewBag.message != null)
    {
            <span style="color:green">@ViewBag.message</span>
    }
                }
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
}
<script src="~/Scripts/jquery-1.10.2.js"></script>
<script>
    $(document).ready(function() {
        $("#DepartmentId").change(function() {
            $("#CourseId").empty();
            $.get("/Allocate/GetCourseList", { departmentId: $("#DepartmentId").val() }, function(data) {
                $("#CourseId").append("<option value='0'> --Select Course --</option");
                $.each(data, function(index, row) {
                    $("#CourseId").append("<option value='" + row.Id + "'>" + row.Code + "</option");

                });

            });
        });
    });
        </script>